[\2](\1)

---
# Abstract

이 연구에서 제시된 제자리멀리뛰기 거리 측정의 핵심 기술은 주로 두 단계로 나눌 수 있습니다. 첫 번째 단계는 Enviroment Initialization 단계로, 제자리멀리뛰기 필드, 카메라 및 인체 주요 관절 포인트에 대한 정량적 식별을 포함합니다. 두 번째 단계는 거리 측정 단계로, 도약 프레임과 착지 프레임의 추출 및 발끝과 발뒤꿈치의 주요 포인트 식별로 구성됩니다.
테스트 정확도를 평가한 결과, 총 20회 측정에서 오차는 0.58cm, 표준편차는 0.24cm로 나타났으며, 제자리멀리뛰기 측정 결과의 오차를 1cm 이내로 제어할 수 있음이 입증되었습니다. 이는 본 연구 결과가 높은 측정 정확도를 가지고 있음을 보여줍니다.
본 연구에서는 일반 웹캠을 사용했기 때문에, 기존의 제자리멀리뛰기 측정 방법과 비교하여 지능화 수준이 높고 가격이 저렴하며 유지보수 비용이 낮다는 장점이 있습니다. 따라서 연구 결과는 널리 보급되기 쉽다는 특징이 있습니다.

# Introduction

제자리멀리뛰기 거리 측정 방법의 특성과 인공지능의 체력 측정 적용 사례를 분석한 후, 본 연구에서는 컴퓨터 비전과 인공지능 기반의 새로운 제자리멀리뛰기 거리 측정 시스템을 제안합니다. 이 시스템은 제자리멀리뛰기의 반칙 동작을 식별하고, 착지 지점을 판별하며, 측정 결과를 계산할 수 있어 체력 측정의 비용을 절감하고 전반적인 효율성을 향상시킬 수 있습니다.

# Method

## 1. 실험 장비 리스트
랩탑, 웹캠, 외장 그래픽카드, 멀리뛰기 패드, 자체 제작한 자, 75cm 규격 빨간색 테이프

## 2. 실험 장소 레이아웃
![[스크린샷 2025-05-16 오후 4.13.39.png]]
반복 실험을 통해 가장 적합한 촬영 시야를 확보할 수 있는 테스트 장소를 구성함

## 3. 실험 환경 초기화 및 보정

### 1) 카메라 보정 및 왜곡 보정

카메라 보정은 보통 **각도, 조명, 하드웨어 장비** 등의 요인에 의해 영향을 받습니다. 하드웨어의 오류나 설계 결함 등으로 인해 투영된 이미지에는 **다양한 정도와 형태의 왜곡**이 발생할 수 있습니다(Robotics, 2017). 본 연구는 이미지 기반으로 거리 측정(ranging)을 수행하기 때문에, 카메라 보정과 왜곡 보정을 반드시 수행해야 합니다.  
가장 일반적으로 사용되는 방법은 **Zhang Zhengyou의 카메라 보정 방법**입니다. 이 방법은 보정 대상물에 대한 고정밀 요구를 낮춰주며, 단지 **흑백 체스보드**만 있으면 됩니다. 보정 보드를 **다양한 높이, 기울기, 거리 등**의 3차원 자세로 배치함으로써, 카메라 파라미터 식을 구성합니다. 이 보정 결과는 **안정성, 높은 정확도, 계산의 간단함**에서 우수한 성능을 보입니다[[Zhang's camera calibration method|(Zhang, Zhengyou, 1999)]]

### 2) 실험 장소의 정량적 보정

(1) 스케일 정량적 보정

이 연구에서는 OpenCV를 사용하여 HSV 색상 모델을 기반으로 세 가지 장소 보정 마커의 단일 색상 윤곽을 추출하였습니다(OUYANG Ping, ZHANG Yufang, 2009).

실험 결과, 초록색 점프 패드와 흰색 배경 조건에서 빨간색 필드 보정 마커의 인식 효과가 가장 우수한 것으로 나타났습니다.

자를 따라 있는 빨간색 눈금을 인식하기 위해 OpenCV 라이브러리의 `boundingRect` 함수를 사용하여 자 영역의 사각형을 그리려고 했습니다(Lei Jianfeng, Wang Wei, 2013; Xie Qinlan, 2009). 그러나 점프 수행자(jumper)와 기준선(reference line) 사이의 각도가 기울어져 있기 때문에, `boundingRect` 함수만으로는 점프 수행자와 기준선의 전체 윤곽을 정확히 그릴 수 없었습니다. 따라서 `minAreaRect` 함수를 사용하여 점프 수행자와 기준선의 윤곽을 그렸고, 윤곽선의 코너 포인트를 얻은 뒤, 점프 수행자의 왼쪽과 기준선의 오른쪽에 있는 두 직선의 방정식을 계산했습니다(Chen Baifan, Cai Zixing, 2005; HUNT W.A., JOHNSON G.S., 2011; Zhang Jie, Fang Houjia, 2016). 

<Table 2>에서 볼 수 있듯이, 빨간색 눈금과 흰색 눈금의 평균 길이에는 일정한 편차가 존재합니다. 두 눈금의 평균값을 반으로 나눈 뒤 반올림하여 1을 얻고, 이를 보정값으로 사용합니다. 이 보정값을 적용할 때는 빨간색 눈금마다 1을 빼고, 흰색 눈금마다 1을 더함으로써 눈금의 프로파일을 효과적으로 보정할 수 있습니다. 이러한 보정 결과는 <Figure 3>에 나타나 있습니다.
![[스크린샷 2025-05-19 오전 9.37.00.png]]

**(2) 멀리뛰기 구역의 정량적 보정**

카메라의 설치 위치에 따라 영상 프레임 이미지에는 원근 현상이 발생하게 됩니다.
중심선 오른쪽에는 기준선이 없기 때문에, 오른쪽의 원근 보정을 위해 눈금 끝에서 3cm 떨어진 위치에 기준선을 새로 설정한다

시험장에 점퍼, 원근 보정 기준선, 중심선이 설치되면 좌우 시험 구역에 4개의 점을 설정할 수 있고, 이를 통해 원근 변환 계산을 수행할 수 있다.  
원근 변환은 하나의 시점 평면에서 다른 시점 평면으로 이미지를 투영하는 과정이다. 본질적으로 이는 3차원 공간 변환으로, 3차원 좌표를 다른 시점 평면에 투영하기 위해 완전히 다른 변환 행렬 $m$이 필요하다.

원근 변환을 사용하면 어떤 사각형도 직사각형으로 변환할 수 있다. 원근 변환 과정은 <Figure 4>에 나타나 있다.
![[스크린샷 2025-05-19 오전 10.40.37.png]]

원근 변환은 주어진 네 점의 좌표와 변환 공간 내 그에 대응하는 점들의 좌표를 통해 수행할 수 있다. 세 점이 한 직선상에 있지 않으면 변환에 필요한 8개의 파라미터를 구할 수 있다. 이 파라미터를 이용해 변환 행렬을 구하고, 이를 통해 원근 변환된 이미지의 공간 좌표를 결정하여 이미지 복원의 목적을 달성한다.

원근 변환 과정은 식 (1)과 같이 원래의 사각형 좌표에 변환 행렬 $M$을 곱하여 새로운 사각형 좌표를 얻는 과정이다.
![[스크린샷 2025-05-19 오전 10.43.52.png]]

변환 행렬 M은 네 부분으로 나뉘며,

- $M_{11}, M_{12}, M_{21}, M_{22}$ ​는 크기 조절(scaling)이나 전단(shearing) 같은 선형 변환을 나타내고,
    
- $M_{31}, M_{32}$​는 이동(translation)을 나타내며,
    
- $\begin{bmatrix} M_{13} & M_{23} \end{bmatrix}^T$는 원근 변환(perspective transformation)을 의미한다.
    
- $M_{33}$​는 비례 시스템(proportional system) 값으로 항상 1이다.

![[스크린샷 2025-05-19 오전 10.49.06.png]]

formula (2)에서 $\begin{bmatrix} X \\ Y \\ Z \end{bmatrix}$​​​는 변환 전 좌표를 나타냅니다. 원래 좌표는 2차원 공간에 속하기 때문에 $z = 1$입니다.  
$\begin{bmatrix} X \\ Y \\ Z \end{bmatrix}$​​​는 변환 후 3차원 공간의 좌표를 의미합니다.  
투영 좌표는 $Z$ 값으로 $X$와 $Y$를 나누어 구하며, 이는 공식 (3)과 (4)에 나타나 있습니다.

![[스크린샷 2025-05-19 오전 10.57.49.png]]

![[스크린샷 2025-05-19 오전 10.58.27.png]]

계산된 네 점의 좌표를 공식 (5)와 공식 (6)에 대입하여 변환 행렬 $M$을 계산합니다.  
변환 행렬 $M$을 얻은 후에는 대상 이미지를 원근 변환할 수 있습니다.  

시험장 환경이 변할 경우, 예를 들어 카메라가 이동하거나 세 개의 현장 보정 마커가 움직일 경우, 좌우 원근 변환 행렬 $M$도 변경된다는 점에 주의해야 합니다.  
따라서 매 테스트 전에 시험 환경이 초기화될 때마다 원근 변환 행렬을 다시 계산하는 것이 필요합니다.

[[Perspective Transformation Calibration Method]]

**(3) 인체 관절점의 정량적 보정**

시각 기반의 제자리 멀리뛰기 거리 측정에서 핵심은 **발가락과 발뒤꿈치의 식별**에 있다. 발가락은 반칙 여부 판단에 사용되며, 발뒤꿈치는 거리 측정에 사용된다. 때로는 **엉덩이나 손목 관절**을 식별하고, 넘어졌을 때 점퍼의 몸에서 가장 가까운 지점을 평가하여 거리 측정에 활용할 필요도 있다.

이 연구에서는 미국 카네기멜론대학교(Carnegie Mellon University)의 Z. Z. Cao, G. Hidalgo, T. Simon, S.-E. Wei 등이 2018년에 발표한, 딥러닝 기반의 인간 관절점(OpenPose) 오픈소스 프레임워크를 사용하여 사람의 주요 관절점에 대해 정량적 보정(quantitative calibration)을 수행하였다. OpenPose 프레임워크의 인체 주요 관절점 위치 정보는 <Figure 5>를 참조하면 된다.
![[스크린샷 2025-05-19 오전 11.19.59.png]]

# Conclusion

본 연구에서는 컴퓨터 비전과 딥러닝 알고리즘인 OpenPose 오픈소스 프레임워크를 활용하여 제자리멀리뛰기 거리 측정 시스템을 설계하였습니다. 제자리멀리뛰기 시험 장소를 표준화하고, 실제 적용 시 발생할 수 있는 점프 라인 밟기 등의 반칙 여부를 판단하며, 착지 후 인체 주요 관절 포인트의 위치를 기준으로 거리 측정을 수행합니다. 반복 실험을 통해 본 기술의 평균 오차가 실질적인 제자리멀리뛰기 적용에서 1cm 미만임이 입증되었으며, 일반 웹캠만으로도 해당 기능을 구현할 수 있어 저비용, 간편한 조작, 높은 보급성 및 높은 정확도라는 장점을 지닙니다. 이는 본 연구가 다양한 제자리멀리뛰기 환경에 폭넓게 활용될 수 있음을 충분히 보여줍니다.

# Result

## 1. 제자리 멀리뛰기 동작 특성의 분석

본 연구의 핵심은 거리 측정에 있기 때문에, 피검자가 규칙에 어긋나게 점프했는지 여부와 착지 지점에 대한 분석의 타당성이 본 연구의 주요 요소입니다. 공중 도약 구간에서는 거리 측정이 이루어지지 않기 때문에, 본 연구에서는 공중 도약 동작에 대한 특성 분석은 수행하지 않았습니다.

연구의 필요에 따라, 제자리멀리뛰기 동작의 특성 분석은 OpenPose 오픈소스 프레임워크를 통해 식별된 인체의 주요 관절 포인트를 기반으로 이루어집니다. 하지만 도약과 착지 시 발끝(toe)과 발뒤꿈치(heel)를 관찰해야 하는데, OpenPose는 이를 직접적으로 제공하지 않기 때문에, 발목(ankle) 좌표를 기반으로 OpenCV를 활용하여 발끝의 수평 좌표를 추가적으로 추정해야 합니다.

**도약 동작의 특성** 
점프 동작을 관찰한 결과, 피검자가 실제 도약하는 다리로 점프를 수행할 때, 발이 지면을 떠나는 순간까지—즉, 점프 라인을 넘기 전까지—양쪽 발끝(toe)의 수평 좌표가 점프 라인의 기준값(CONST)보다 크거나 같아서는 안 됩니다. 이를 위반할 경우 반칙으로 간주되며, 위반 유형에는 라인 넘기, 라인 밟기, 패드 점프(pad jumping) 등이 포함됩니다. 자세한 내용은 <표 3>을 참고하십시오.
![[스크린샷 2025-05-15 오후 2.47.18.png]]

**착지 동작의 특성**  
착지 동작은 완충 단계(Buffer Phase)와 일어나는 단계(Rise Phase)로 나눌 수 있습니다. 착지 시 두 단계 모두에서 문제 상황이 발생할 수 있으며, 제자리멀리뛰기의 다양한 착지 형태를 종합해 보면, 착지 방식은 크게 세 가지 유형으로 분류될 수 있습니다. 자세한 내용은 <표 4>를 참고하십시오.
![[스크린샷 2025-05-15 오후 2.49.20.png]]
피검자들은 다양한 방식으로 착지하며, 각기 다른 착지 방식에 따라 그에 상응하는 유효 거리 측정 지점을 찾아야 합니다. 착지 동작의 특성을 분석하기 위해 손목, 어깨, 엉덩이, 무릎, 발목 등 10개의 관절 좌표(좌우 구분 포함)를 관찰 지표로 선정하였으며, 이는 OpenPose를 통해 식별된 인체 주요 관절 포인트 좌표와 결합하여 분석에 활용됩니다.
이를 기반으로, 엉덩이 관절(hip), 무릎 관절(knee), 발목 관절(ankle)이 이루는 각도를 착지 동작 유형을 식별하기 위한 중요한 관찰 지표로 사용하며, 이 각도를 "무릎 각도(knee angle)"라고 명명합니다.
착지 동작 모드 설명

모드 1: 안정적인 완충 + 안정적인 일어섬 (Cushion Stabilization, Rise Stabilization)
- **완충 단계**: 발뒤꿈치가 지면에 닿으면서 시작되며, 무릎 관절 각도는 일정 각도까지 작아집니다. 이때 엉덩이 관절의 좌표값은 축 상에서 증가하고, 발목 관절의 좌표값은 약간만 변동합니다.
- **일어섬 단계**: 무릎 각도가 작아졌다가 다시 커지며, 엉덩이 좌표는 축 상에서 감소하고, 발목 좌표는 역시 약간만 변합니다.

모드 2: 불안정한 완충 + 일어섬 불가 (Cushioning Instability, Unable to Get Up)
- **완충 단계**: 발뒤꿈치가 지면에 닿으면서 시작되며, 무릎 각도는 약간만 변합니다. 이때 엉덩이 좌표는 축 상에서 증가하고, 발목 좌표도 축 상에서 동시에 증가합니다.
- **일어섬 단계**: 피검자가 일어나지 못함.

**모드 3: 불안정한 완충 + 불안정한 일어섬 (Unstable Cushioning and Unstable Rise)**
- **완충 단계**: 모드 1의 완충 단계와 동일하게 나타납니다.
- **일어섬 단계**: 세 가지 유형으로 분류되며, 이 연구에서는 이 세 가지 시작 동작 유형에 중점을 두고 분석합니다.
![[스크린샷 2025-05-15 오후 7.03.34.png]]
**일어섬 동작 유형 (Mode 3의 Rise Phase 세부 유형)**

**Type I**:
- 무릎 각도는 커짐
- 엉덩이 관절 좌표는 축 상에서 **커졌다가 작아짐**
- 왼쪽 또는 오른쪽 발목 관절 좌표는 축 상에서 **커짐**

**Type II**:
- 무릎 각도는 커짐
- 엉덩이 관절 좌표는 축 상에서 **작아짐**, 엉덩이 관절은 축 상에서 **작아짐**
- 왼쪽 또는 오른쪽 발목 관절 좌표는 축 상에서 **작아짐**

**Type III**:
- 무릎 각도는 커짐
- 엉덩이 관절 좌표는 축 상에서 **작아짐**, 이후 **작아졌다가 다시 커짐**

참고: 표기된 좌표는 수평(x축) 및 수직(y축) 좌표를 의미하며, 관절 각도는 무릎 각도를 나타냅니다. 세부 내용은 <표 3>을 참고하십시오. “-” 기호는 해당 경우에서 영향 지표가 없음을 나타내며, 이 경우 분석은 수행되지 않습니다.

## **2. 도약 및 착지 키프레임 세트의 식별** 

제자리멀리뛰기의 특성상, 단일 키프레임이 아닌 **도약 및 착지 키프레임 세트**를 식별해야 합니다. 하나의 완전한 제자리멀리뛰기 동작은 단순히 도약 규칙 위반 여부만 판단하는 것이 아니라, **착지 방식 식별**과 함께 **거리 측정을 위한 유효 좌표점 확보**까지 포함되어야 합니다.

따라서, 거리 측정 작업을 완수하기 위해서는 **하나의 완전한 제자리멀리뛰기 동작 전체에 대한 분석**이 필수적입니다.

### 1) 도약 키프레임

<그림 6>에서 확인할 수 있듯이, 영상 좌표계의 원점이 **좌측 상단**에 위치해 있는 영향으로 인해,

- **검은 점**은 제자리멀리뛰기 도약 구간에서 가장 높은 지점(공중에 떠 있는 최고점),
- **빨간 점**은 **도약 직전 지면을 완전히 떠나기 직전 순간**을 의미합니다.
비교 분석을 통해,
- **빨간 점의 발목 위치(ankle sitting position)는 네 가지 제자리멀리뛰기 동작을 구분하는 기준점 역할을 합니다.
- 빨간 점 이전 프레임들의 발목 좌표는 서로 **가깝고 밀집된 분포(dense trend)를 보이며,
- 빨간 점 이후부터 검은 점까지의 발목 좌표는 **서로 멀고 산재된 분포(sparse trend)를 나타냅니다.

이는 도약 시점 전후의 **신체 움직임 패턴 변화**를 명확히 보여주는 중요한 특징으로, 도약 순간 및 공중 구간을 구분하는 기준으로 활용될 수 있습니다.

### 2) 착지 키프레임

앞서 설명한 바와 같이, 무작위로 선택된 **최근 4개의 제자리멀리뛰기 데이터**를 활용하여 **착지 키프레임 세트**를 분석하였습니다.

착지 키프레임 세트를 식별할 때는 피검자의 **오른쪽 발목 관절(right ankle joint)의 좌표만을 활용하면 충분합니다.

- 검은 점(black dot)은 <그림 6>에서와 마찬가지로, 공중 도약 구간에서 가장 높은 지점을 의미합니다.
- 반면, 빨간 점(red dot)은 착지 시 지면과 처음 접촉하는 순간을 나타냅니다.
관련된 수치 및 세부 내용은 <표 8>에 제시되어 있습니다.

## **3. 발 영역, 발 앞뒷꿈치 키포인트 식별**

정확하게 피검자의 발 영역(ROI)을 식별하고, 반칙 여부 판단 및 다음 착지 지점 식별을 보다 명확히 하기 위해, 인체 주요 키포인트에 대한 조사를 실시하였습니다.

20명의 무작위 남성과 20명의 여성에 대해 수행한 조사 결과,

- **여성**의 경우 발 길이 중 가장 긴 경우는 종아리 전체 길이의 약 **70%**, 가장 짧은 경우는 약 49%
- **남성**의 경우 발 길이 중 가장 긴 경우는 종아리 전체 길이의 약 **75%**, 가장 짧은 경우는 약 59%
이 수치들은 <표 5>에 제시되어 있으며, <표 6>을 기반으로 다음과 같은 결론을 도출할 수 있습니다.
## **4. 거리 측정**
**1) 착지 지점에 대응하는 눈금 점 결정 (Determination of the Scale Point Corresponding to the Landing Point)**

사진(영상)에서는 원근 현상(perspective phenomenon)이 존재하기 때문에,  
착지 지점을 먼저 판별한 후 그에 대응하는 눈금(scale point)을 계산하면 큰 오차가 발생하여 연구의 정확도에 영향을 줄 수 있습니다.

따라서 본 연구에서는,
- 기하학적 원근 변환 알고리즘(geometric perspective transformation algorithm)을 활용하여
- 착지 지점(landing point)을 보정된 데카르트 좌표계(Cartesian coordinate system)로 투영한 후,
- 그 투영된 위치를 기준으로 눈금 상의 위치를 결정합니다.

<그림 12>에서는 다음과 같은 원근 보정 전후의 모습을 시각적으로 보여줍니다:

- **(a)–(b)**: 착지 지점이 **중심선의 왼쪽**에 있을 때의 보정 전후
- **(c)–(d)**: 착지 지점이 **중심선의 오른쪽**에 있을 때의 보정 전후

**2) 거리 계산 (Distance Calculation)**

이 연구에서는 **기하학적 원근 변환(geometric perspective transformation)을 통해,  
착지 지점을 보정된 직각 좌표계(corrected right-angle coordinate system)로 투영한 후, 다음과 같은 절차를 통해 거리(멀리뛰기 기록)를 계산합니다:

1. **투영된 착지 지점의 위치**를 보정된 좌표계에서 찾습니다.
2. 그 위치에 가장 근접한 두 개의 눈금 점(scale point)을 확인합니다.
3. 이 두 점을 이용해 선형 방정식(linear equation)을 구합니다.
4. 착지 지점의 투영 위치가 두 점 사이에 있으므로,
    - **가까운 점 W1**에 대한 비율
    - **먼 점 W2**에 대한 비율  
        을 계산합니다.
5. 각 눈금 간의 간격은 **5cm**로 알려져 있고,  
    **W1에 해당하는 눈금 값 K**도 알고 있으므로,
    
6. 이 정보를 종합해 최종 거리(distance)*를 아래와 같은 방식으로 계산합니다:
    
$$
\text{거리} = K * 5 + (\text{W1 비율}) * 5
$$

**3) 테스트 타당도 평가 (Test Validity Evaluation)**

실제 적용 상황에서 본 연구의 거리 측정 시스템의 타당도(validity)**를 평가하기 위해 실험을 진행했습니다.  
여기서 타당도란, _신뢰할 수 있는 도구는 일관된 결과를 보여야 한다_는 의미입니다 (Du R Y, 2010).

 실험 설계

- 실제 **서전트 점프**(standing long jump) 테스트를 반복 실시하여 측정 시스템의 타당도를 검증했습니다.
- 측정 시, 착지 지점이 눈금 중심선(centerline)의 왼쪽 또는 오른쪽에 있을 경우,  
    적용되는 원근 변환 행렬(perspective matrix)이 서로 달라 일관성 문제가 발생할 수 있음을 감안했습니다.

실험 방법

- 따라서, 중앙 방향으로의 착지가 이루어진 정상적인 서전트 점프 결과 중에서,
    
    - 착지 지점이 **왼쪽**에 있는 경우 10개
        
    - 착지 지점이 **오른쪽**에 있는 경우 10개  
        총 **20개의 결과**를 추출하여 분석했습니다.
        
- 해당 실험 결과는 `<Table 7>`과 `<Table 8>`에 제시되어 있습니다.
    

이 실험을 통해 시스템이 양쪽 착지 위치에 관계없이 일관된 정확도로 측정할 수 있는지를 확인하였으며, 이는 본 거리 측정 시스템의 실용성과 신뢰성을 입증하기 위한 핵심 검증 절차입니다.
# ~/.codex/config.toml (추가/수정)

# 1) 기본 모델
model = "gpt-5.2-codex"

# 파일 생성/수정이 필요하면 read-only면 안 됨
sandbox_mode = "workspace-write"

# 승인 프롬프트 빈도 (원하는 대로)
approval_policy = "on-request"  # 또는 "untrusted" / "never"(위험) 등

[features]
# 모델이 web search를 "요청"할 수 있게
web_search_request = true

# 2) 요약/정리 작업에서 형식을 흔들지 않게 하는 지시문(전역)
# - 여기엔 "출력 형태 강제"만 넣고, 실제 템플릿은 /prompts로 분리하는 게 안전함
developer_instructions = """
You are generating research notes for Obsidian.
Output must be Markdown only.
When asked to summarize a paper, follow the user's Obsidian template strictly:
- Include YAML frontmatter with the specified keys.
- Keep 'Main Contribution' to exactly 3 lines: What / Why / Impact.
- Method section: max 5 bullets.
- Assumptions & Limitations: max 2 each.
- Failure Modes: max 3 bullets.
Use citations/links only when provided by the user (do not invent URLs or numbers).
If required fields are unknown, leave them empty strings or empty lists rather than guessing.
"""

# 3) (선택) 웹검색 요청 기능
# - Codex에서 모델이 웹검색을 "요청"할 수 있게 하는 플래그 (환경/정책에 따라 제한될 수 있음)
[features]
web_search_request = true
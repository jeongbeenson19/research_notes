
### 원근 변환(Perspective Transformation) 보정 과정

1. **문제 상황:**  
    카메라가 일정한 위치에 고정되어 있지 않고, 시험장 환경(카메라 위치, 마커 위치 등)이 바뀌면 영상에 찍힌 객체들의 모양과 위치가 실제와 다르게 왜곡됩니다. 즉, 원근법(perspective)에 의해 이미지가 찌그러져 보이게 됩니다.
    
2. **목표:**  
    이 왜곡된 이미지를 실제 공간의 올바른 위치와 크기로 '펼쳐서' 보정하는 것, 즉 **왜곡된 영상 좌표를 실제 측정 가능한 평면 좌표계로 변환**하는 것입니다.
    
3. **과정:**
    

- 시험장 바닥에 4개의 기준점(좌우 각각 4점, 총 8점)을 찍습니다.
    
- 이 4개의 점(원본 영상에서의 좌표)과 실제 공간에서의 4개의 대응 점(보정 후 좌표)을 이용해, 원근 변환 행렬 $M$을 구합니다.
    
- 이 행렬 $M$은 영상 속 좌표를 실제 평면 좌표로 변환하는 수학적 함수 역할을 합니다.
    

4. **행렬 계산 후 적용:**
    

- 영상을 찍은 프레임의 각 점 좌표에 행렬 $M$을 곱해 실제 공간에서의 정확한 좌표를 얻습니다.
    
- 이렇게 하면 카메라의 위치, 각도에 상관없이 모든 영상이 '똑바로' 보정되어, 실제 거리나 위치를 정확히 측정할 수 있게 됩니다.
    

5. **변경 시 재계산 필요:**
    

- 만약 카메라가 움직이거나 보정용 마커가 이동하면, 원래 구했던 행렬 $M$은 더 이상 맞지 않기 때문에
    
- 다시 4개의 기준점 좌표를 새로 측정하고, 행렬 $M$을 재계산해야 정확한 보정이 가능합니다.

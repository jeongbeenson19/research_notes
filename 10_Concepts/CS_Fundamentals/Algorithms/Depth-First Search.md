
좋습니다! **DFS(Depth-First Search, 깊이 우선 탐색)** 에 대해 **개념 → 작동 원리 → 예제 → 장단점** 순으로 **자세히** 설명드릴게요.

---

## ✅ 1. DFS란 무엇인가?

- **그래프 탐색 알고리즘**의 하나로, **깊이(Depth)를 우선적으로 탐색**하는 방법입니다.
    
- 한 노드에서 출발해 **가능한 한 깊이 들어간 뒤**, 더 이상 깊이 갈 수 없을 때 **이전 분기점으로 돌아와** 다른 경로를 탐색합니다.
    
- 대표적인 구현 방식은 **재귀(Recursive)** 또는 **스택(Stack)** 을 이용합니다.
    

---

## ✅ 2. DFS의 작동 원리

### 🔁 단계별 작동 방식

1. **시작 노드 방문 → 방문 처리**
    
2. **현재 노드의 인접 노드 중, 아직 방문하지 않은 노드가 있다면**  
    그 노드로 이동해 **DFS 재귀 호출**
    
3. **인접 노드를 전부 방문하면** → 이전 노드(부모 노드)로 돌아감(Backtracking)
    
4. 모든 노드를 방문할 때까지 1~3 반복
    

---

### 🔄 간단한 흐름도

```
DFS(노드):
    현재 노드 방문 처리
    for 인접 노드:
        if 방문하지 않음:
            DFS(인접 노드)
```

---

## ✅ 3. DFS 예시 (텍스트 기반)

### 🖼️ 그래프 예제

```
1 - 2 - 4
|   |
3 - 5
```

### 🧠 DFS 탐색 순서 (시작: 1)

- **1 방문 → 2 방문 → 4 방문 (더 이상 갈 곳 없음 → 2로 Backtracking) → 5 방문 → 3 방문**
    

순서: **1 → 2 → 4 → 5 → 3**

---

## ✅ 4. DFS의 구현 (파이썬)

### 🔹 재귀(Recursive) 방식

```python
visited = [False] * (n+1)

def dfs(node):
    visited[node] = True
    print(node, end=" ")
    for next_node in graph[node]:
        if not visited[next_node]:
            dfs(next_node)
```

### 🔹 스택(Stack) 방식

```python
def dfs_stack(start):
    stack = [start]
    while stack:
        node = stack.pop()
        if not visited[node]:
            visited[node] = True
            print(node, end=" ")
            for next_node in reversed(graph[node]):  
                if not visited[next_node]:
                    stack.append(next_node)
```

※ 스택에서는 **역순 삽입**이 중요한데, 그래야 재귀 DFS와 동일한 탐색 순서가 유지됩니다.

---

## ✅ 5. DFS vs BFS 비교

|항목|DFS|BFS|
|---|---|---|
|탐색 순서|깊이 우선|너비(수평) 우선|
|자료구조|스택(또는 재귀)|큐|
|구현 난이도|재귀로 간단|비교적 간단|
|메모리 사용|경로 깊이만큼 스택 사용 → 상대적으로 적음|큐에 많은 노드를 넣어야 할 수도 있어 메모리 사용 ↑|
|용도|**연결 요소 탐색, 백트래킹, 경로 탐색**|최단 거리 탐색 (가중치 없는 그래프)|

---

## ✅ 6. DFS의 장단점

### 👍 장점

- 코드가 간단 (재귀 이용 시)
    
- 메모리 사용이 비교적 적음
    
- 모든 연결 요소 탐색에 적합
    

### 👎 단점

- 깊이가 깊은 그래프에서 **RecursionError** 위험 (Python 기본 깊이 제한 약 1000)
    
- 최단 경로 탐색에는 적합하지 않음
    

---

## ✅ 7. DFS의 실제 활용 예시

✔ **백준 1012번 (유기농 배추 문제)** → 연결된 배추 묶음 찾기  
✔ 미로 탐색 (출구 찾기)  
✔ 퍼즐 문제 (백트래킹)  
✔ 그래프 연결 요소 개수 찾기

---

### 📌 원하시면

- **DFS와 BFS의 차이를 그림으로 시각화**해서 보여드릴 수 있고,
    
- **DFS의 백트래킹(예: N-Queen 문제) 원리**까지 설명 가능해요.
    

➡️ 원하시면 **`유기농 배추 문제`의 DFS 탐색 흐름을 단계별 시각화**해서 설명해드릴까요?